{"version":3,"file":"index.test.js","sourceRoot":"","sources":["../../spec/index.test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,4CAAuB;AAEvB,iDAAsE;AAEtE,4EAAwD;AACxD,4CAAsB;AAEtB,sCAAyD;AAEzD,IAAI,SAAoB,CAAC;AAGzB;IACI;IAEA,CAAC;IAHC,GAAG;QADR,oBAAU;;OACL,GAAG,CAIR;IAAD,UAAC;CAAA,AAJD,IAIC;AAED;IAAA;IAEA,CAAC;IAAD,mCAAC;AAAD,CAAC,AAFD,IAEC;AAGD;IAAuC,4CAA4B;IAAnE;;IAEA,CAAC;IAFK,wBAAwB;QAD7B,oBAAU;OACL,wBAAwB,CAE7B;IAAD,+BAAC;CAAA,AAFD,CAAuC,4BAA4B,GAElE;AAGD;IAA2B,gCAAG;IAC1B,sBAA2B,GAAQ;QAAnC,YACI,iBAAO,SACV;QAF0B,SAAG,GAAH,GAAG,CAAK;;IAEnC,CAAC;IAHC,YAAY;QADjB,qBAAa;QAEG,WAAA,gBAAM,CAAA;yCAAa,GAAG;OADjC,YAAY,CAIjB;IAAD,mBAAC;CAAA,AAJD,CAA2B,aAAG,GAI7B;AAMD;IAAuB,4BAAY;IAAnC;;IACA,CAAC;IADK,QAAQ;QAJb,6BAAS,CAAC;YACP,QAAQ,EAAE,aAAa;SAC1B,CAAC;QACD,qBAAa;OACR,QAAQ,CACb;IAAD,eAAC;CAAA,AADD,CAAuB,YAAY,GAClC;AAGD;IAAA;IAEA,CAAC;IAFK,aAAa;QADlB,qBAAa;OACR,aAAa,CAElB;IAAD,oBAAC;CAAA,AAFD,IAEC;AAED,aAAI,CAAC,UAAU,CAAC;IACZ,SAAS,GAAG,IAAI,mBAAS,EAAE,CAAC;IAC5B,aAAG,CAAC,GAAG,CAAC,kBAAU,EAAE,SAAS,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC;AAEH,aAAI,CAAC,sBAAsB,EAAE,UAAA,CAAC;IAC1B,IAAM,QAAQ,GAAG,SAAS,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;IACrD,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,QAAQ,CAAC,CAAC;IACrC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,YAAY,GAAG,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC;AAEH,aAAI,CAAC,+CAA+C,EAAE,UAAA,CAAC;IACnD,SAAS,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAE5D,IAAM,QAAQ,GAAG,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC;IAEzD,CAAC,CAAC,KAAK,CAAC,QAAQ,YAAY,aAAa,CAAC,CAAC;IAE3C,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,QAAQ,CAAC,CAAC;IACrC,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,YAAY,CAAC,CAAC;IAEzC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,YAAY,GAAG,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC;AAEH,aAAI,CAAC,yEAAyE,EAAE,UAAA,CAAC;IAC7E,IAAM,QAAQ,GAAG,IAAK,QAAgB,EAAE,CAAC;IAEzC,CAAC,CAAC,KAAK,CAAC,QAAQ,YAAY,aAAa,CAAC,CAAC;IAE3C,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,QAAQ,CAAC,CAAC;IACrC,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,YAAY,CAAC,CAAC;IAEzC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,YAAY,GAAG,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC;AAEH,aAAI,CAAC,8EAA8E,EAAE,UAAA,CAAC;IAClF,SAAS,CAAC,iBAAiB,CAAC,4BAA4B,CAAC,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;IAE5F,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,4BAA4B,CAAC,CAAC,EAAE,CAAC;IAE7E,CAAC,CAAC,KAAK,CAAC,QAAQ,YAAY,aAAa,CAAC,CAAC;IAE3C,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,wBAAwB,CAAC,CAAC;IACrD,CAAC,CAAC,IAAI,CAAC,QAAQ,YAAY,4BAA4B,CAAC,CAAC;AAC7D,CAAC,CAAC,CAAC;AAEH,aAAI,CAAC,gDAAgD,EAAE,UAAA,CAAC;IACpD,IAAM,QAAQ,GAAG,IAAK,QAAgB,EAAE,CAAC;IACzC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,YAAY,GAAG,CAAC,CAAC;AACxC,CAAC,CAAC,CAAC","sourcesContent":["import test from 'ava';\n\nimport { Container, Inject, Injectable } from '@fluffy-spoon/inverse';\n\nimport Component, { mixins } from 'vue-class-component';\nimport Vue from 'vue';\n\nimport { VueInverse, VueInjectable } from '../src/index';\n\nlet container: Container;\n\n@Injectable\nclass Foo {\n    constructor() {\n         \n    }\n}\n\nclass ClassWithoutDependenciesBase {\n\n}\n\n@Injectable\nclass ClassWithoutDependencies extends ClassWithoutDependenciesBase {\n\n}\n\n@VueInjectable\nclass VueBaseClass extends Vue {\n    constructor(@Inject public foo: Foo) {\n        super();\n    }\n}\n\n@Component({\n    template: '<div></div>'\n})\n@VueInjectable\nclass VueClass extends VueBaseClass {\n}\n\n@VueInjectable\nclass DummyVueClass {\n\n}\n\ntest.beforeEach(() => {\n    container = new Container();\n    Vue.use(VueInverse, container);\n});\n\ntest('can resolve VueClass', t => {\n    const instance = container.resolveInstance(VueClass);\n    t.true(instance instanceof VueClass);\n    t.true(instance.foo instanceof Foo);\n});\n\ntest('can resolve VueBaseClass resolved as VueClass', t => {\n    container.whenResolvingType(VueBaseClass).useType(VueClass);\n\n    const instance = container.resolveInstance(VueBaseClass);\n    \n    t.false(instance instanceof DummyVueClass);\n \n    t.true(instance instanceof VueClass);\n    t.true(instance instanceof VueBaseClass);\n\n    t.true(instance.foo instanceof Foo);\n});\n\ntest('can create VueBaseClass resolved as VueClass with injected dependencies', t => {\n    const instance = new (VueClass as any)();\n    \n    t.false(instance instanceof DummyVueClass);\n\n    t.true(instance instanceof VueClass);\n    t.true(instance instanceof VueBaseClass);\n    \n    t.true(instance.foo instanceof Foo);\n});\n\ntest('can create ClassWithoutDependenciesBase resolved as ClassWithoutDependencies', t => {\n    container.whenResolvingType(ClassWithoutDependenciesBase).useType(ClassWithoutDependencies);\n\n    const instance = new (container.resolveType(ClassWithoutDependenciesBase))();\n    \n    t.false(instance instanceof DummyVueClass);\n\n    t.true(instance instanceof ClassWithoutDependencies);\n    t.true(instance instanceof ClassWithoutDependenciesBase);\n});\n\ntest('can create VueClass with injected dependencies', t => {\n    const instance = new (VueClass as any)();\n    t.true(instance.foo instanceof Foo);\n});"]}